# 腾讯云IM文档RAG系统 - 快速上手指南

## 🎯 一分钟快速体验

### 第一步：激活环境
```bash
cd /Users/zhangtianqi/git_root/agent_homework/ch8
source venv/bin/activate
```

### 第二步：运行完整RAG演示
```bash
python3 rag_complete_demo.py
```

### 第三步：查看结果
演示将自动运行8个测试查询，展示完整的RAG流程。

## 🔧 核心功能演示

### 1. 测试API连接
```bash
python3 test_embedding_api.py
```
**输出示例：**
```
🧪 测试腾讯云LKE嵌入API
✅ 成功获取向量!
📏 向量维度: 1024
```

### 2. 专业召回测试
```bash
python3 recall_test.py
```
**关键指标：**
- 召回准确率: 93.8%
- 平均响应时间: 0.366秒
- 测试成功率: 100%

### 3. 完整RAG问答
```bash
python3 rag_complete_demo.py
```
**功能展示：**
- 智能文档检索
- 上下文构建
- 答案生成
- 性能统计

## 📋 支持的查询类型

### 群组类型查询
```
Q: "直播群AVChatRoom有什么特点？"
A: 详细的特性说明，包括无上限人数、游客模式等
```

### 规模限制查询
```
Q: "社群Community最多支持多少人？"
A: 常规10万人，最大100万人（企业版）
```

### 权限配置查询
```
Q: "如何设置群组权限？"
A: 权限组功能说明，按位权限设置方法
```

### 功能对比查询
```
Q: "Work群和Public群有什么区别？"
A: 详细的功能对比表格和使用场景
```

### 数据结构查询
```
Q: "群成员资料包含哪些字段？"
A: 完整的字段列表和说明
```

## 📊 性能指标

| 指标 | 数值 | 说明 |
|------|------|------|
| 召回准确率 | 93.8% | 关键词覆盖率 |
| 响应时间 | 0.366秒 | 平均搜索时间 |
| 成功率 | 100% | 测试通过率 |
| 数据库大小 | 40.8MB | 12个文档块 |
| 向量维度 | 1024维 | TencentLKE |

## 🔍 文件导航

### 🎯 想运行演示？
- `rag_complete_demo.py` - 完整RAG演示
- `recall_test.py` - 召回测试
- `test_embedding_api.py` - API测试

### 📖 想了解原理？
- `完整RAG项目总结.md` - 详细项目总结
- `召回测试报告.md` - 测试报告
- `VECTOR_STORE_README.md` - 技术文档

### 🔧 想修改配置？
- `vector_store_config.json` - API密钥配置
- `tencent_embeddings.py` - 嵌入模型设置
- `real_vector_store.py` - 数据库配置

### 📊 想查看结果？
- `rag_demo_results.json` - RAG演示结果
- `recall_test_results.json` - 召回测试结果
- `real_vector_search_results.json` - 搜索结果

## 🚀 高级使用

### 自定义查询
```python
from rag_complete_demo import CompleteTencentIMRAG

# 初始化
rag = CompleteTencentIMRAG()
rag.setup_pipeline()

# 自定义查询
result = rag.run_complete_rag("你的问题")
print(result['answer'])
```

### 批量查询
```python
# 自定义查询列表
queries = [
    "群组最大人数限制",
    "消息存储机制",
    "权限设置方法"
]

for query in queries:
    result = rag.run_complete_rag(query)
    print(f"Q: {query}")
    print(f"A: {result['answer']}\n")
```

## 🔧 故障排除

### 常见问题

**Q: API调用失败？**
A: 检查 `vector_store_config.json` 中的密钥配置

**Q: 向量数据库不存在？**
A: 运行 `python3 real_vector_store.py` 重新创建

**Q: 搜索结果不准确？**
A: 查看 `recall_test.py` 调整搜索参数

**Q: 响应时间过慢？**
A: 检查网络连接和API配额

### 重新初始化
```bash
# 删除向量数据库
rm -rf tencent.im.db

# 重新创建
python3 real_vector_store.py
```

## 🎉 成功指标

看到以下输出说明系统运行正常：

```
✅ RAG流水线设置完成!
✅ 检索完成，用时 0.366秒，找到 5 个相关文档
✅ 答案生成完成
🎉 完整RAG演示完成!
```

## 📞 技术支持

如有问题，请查看：
1. `完整RAG项目总结.md` - 详细技术说明
2. `召回测试报告.md` - 性能指标分析
3. 各个模块的内置日志输出

---

**祝您使用愉快！** 🚀